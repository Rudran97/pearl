********************************************************************************
*** This is an auto generated report file showing the opcodes and memory map ***
*** File name : Ultrasonic sensor                                            ***
*** Date of creation : 18-02-2021 23:44:10                                   ***


Memory available : 256 bytes,  Memory used : 182 bytes, 71.09%
--------------------------------------------------------------------------------

Raw address inputs

0000000011010010  0000000000000000        210  0
--------------------------------------------------------------------------------


Word String

0000000011111111  0000000000100000        255   
0000000011111110  0000000000100000        254   
0000000011111101  0000000000100000        253   
0000000011111100  0000000000100000        252   
0000000011111011  0000000001001000        251  H
0000000011111010  0000000001000011        250  C
0000000011111001  0000000000101101        249  -
0000000011111000  0000000001010011        248  S
0000000011110111  0000000001010010        247  R
0000000011110110  0000000000110000        246  0
0000000011110101  0000000000110100        245  4
0000000011110100  0000000001000100        244  D
0000000011110011  0000000001101001        243  i
0000000011110010  0000000001110011        242  s
0000000011110001  0000000001110100        241  t
0000000011110000  0000000000100000        240   
0000000011101111  0000000000101000        239  (
0000000011101110  0000000001101101        238  m
0000000011101101  0000000001101101        237  m
0000000011101100  0000000000101001        236  )
0000000011101011  0000000000111010        235  :
0000000011101010  0000000000100000        234   
--------------------------------------------------------------------------------


Constants

digit_9 = $57
decimal_numbers = $9
digit_len_counter_address = $210
display_th0 = x0a
display_tl0 = xae
display_cs0 = $1
LCD_DATA = P1
LCD_RS = P0.3
LCD_E = P0.4
LCD_RW = P0.5
LCD_BF = P1.7
BF_BIT = b10000000
TRIG = P0.0
ECHO = P0.1
echo_pin = $2
us_10_th0 = x01
us_10_tl0 = x5e
divisor_address = $200
divisor1 = $203
divisor2 = $1
dividend_h = $201
dividend_l = $202
result_h = $203
result_l = $204
sensor_read_delay = $25
ADDRESS = b11111111
DATA_LEN = b00001011
ADDRESS2 = b11110100
DATA_LEN2 = b00001011
--------------------------------------------------------------------------------

Address     Opcode

    __init__:
0   		MOV TH0 display_th0
1   		MOV TL0 display_tl0
2   		MOV CS0 display_cs0
3   		SET T0E
4   		MOV R1 $10
5   		DDRP0 ( $0 | echo_pin )
6   		DDRP1 $0
7   		CALL set_registers
    set_display:
8   		MOV R2 x38
9   		CALL set_instruction
    clear_display:
10   		CLR LCD_RS
11   		MOV R2 $1
12   		CALL set_instruction
    return_home:
13   		ldi $0
14   		sta $211
15   		CLR LCD_RS
16   		MOV R2 $2
17   		CALL set_instruction
18   		MOV R2 $12
19   		CALL set_instruction
20   		SET LCD_RS
    read_usensor:
21   		MOV TH0 $0
22   		MOV TL0 $0
23   		SET T0E
24   		SET TC0L
    timer_init:
25   		MOV TH0 us_10_th0
26   		MOV TL0 us_10_tl0
27   		MOV CS0 $0
28   		SET T0E
    send_trigger:
29   		SET TRIG
30   		CALL delay
31   		CLR TRIG
    wait_for_echo_High:
32   		JNB ECHO wait_for_echo_High
    counter_init:
34   		SET TCR0E
    wait_for_echo_Low:
35   		JB ECHO wait_for_echo_Low
37   		CLR T0
38   		mov a, tc0l
39   		sta dividend_l
40   		mov a, tc0h
41   		sta dividend_h
42   		ldi divisor1
43   		sta divisor_address
44   		MOV R2 $1
    U16int_DIV:
45   		ldi $0
46   		sta result_h
47   		sta result_l
    continue:
48   		lda dividend_l
49   		sub divisor_address
50   		sta dividend_l
51   		lda dividend_h
52   		subib $0
53   		sta dividend_h
54   		jmc increment_result
55   		lda result_l
56   		sta dividend_l
57   		lda result_h
58   		sta dividend_h
59   		ldi divisor2
60   		sta divisor_address
61   		djnz R2, U16int_DIV
62   		lda result_l
    wait_1sec:
63   		MOV TH0 display_th0
64   		MOV TL0 display_tl0
65   		MOV CS0 display_cs0
66   		SET T0E
67   		CALL delay
68   		jmp display_character
    increment_result:
69   		lda result_l
70   		addi $1
71   		sta result_l
72   		lda result_h
73   		addic $0
74   		sta result_h
75   		jmp continue
    display_character:
76   		push a
77   		push r1
78   		push r0
79   		MOV R0 ADDRESS
80   		MOV R1 (DATA_LEN - 1)
    send_characters:
81   		SET LCD_RS
82   		MOV A @R0
83   		MOV R2, A
84   		CALL set_instruction
85   		DEC R0 $1
86   		DJNZ R1, send_characters
87   		lda $211
88   		subi $0
89   		jmz second_line
90   		ret
    second_line:
91   		ldi $1
92   		sta $211
93   		clr LCD_RS
94   		mov r2 xc0
95   		call set_instruction
96   		mov r0 ADDRESS2
97   		mov r1 (DATA_LEN2 - 1)
98   		call send_characters
99   		pop r0
100   		pop r1
101   		pop a
    find_remainder:
102   		MOV DM $0
103   		DIV R1
104   		MOV R2, A
    decode_digit:
105   		MOV A, R2
106   		SUB R3
107   		JMZ store_number
108   		DEC R0 $1
109   		DJNZ R3, decode_digit
    set_instruction:
110   		MOV A, R2
    execute_instruction:
111   		MOV LCD_DATA, A
112   		SET LCD_E
    check_BF:
113   		CLR LCD_RS
114   		SET LCD_RW
115   		DDRP1 BF_BIT
    lcd_busy:
116   		JB LCD_BF lcd_busy
118   		DDRP1 $0
119   		CLR LCD_E
120   		CLR LCD_RW
121   		RET
    delay:
122   		SET TR0
    loop:
123   		JNBTF0 loop
124   		CLR T0
125   		RET
    store_number:
126   		LDA digit_len_counter_address
127   		ADDI $1
128   		STA digit_len_counter_address
129   		MOV A, R0
130   		PUSH A
131   		MOV A, DM
132   		SUBI $0
133   		CALL set_registers
134   		JMZ display_number
135   		MOV A, DM
136   		JMP find_remainder
    set_registers:
137   		MOV R0 digit_9
138   		MOV R3 decimal_numbers
139   		RET
    display_number:
140   		SET LCD_RS
141   		POP A
142   		CALL execute_instruction
143   		LDA digit_len_counter_address
144   		SUBI $1
145   		STA digit_len_counter_address
146   		JMZ read_delay
147   		JMP display_number
    read_delay:
148   		MOV R2 $1
    add_mask:
149   		SET LCD_RS
150   		ldi " "
151   		CALL execute_instruction
152   		DJNZ R2, add_mask
153   		PUSH R0
154   		MOV R0 sensor_read_delay
    read_delay_loop:
155   		CALL delay
156   		DJNZ R0, read_delay_loop
157   		POP R0
158   		JMP return_home
--------------------------------------------------------------------------------

Memory Map

1	0000000000000000   0011110000001010        0	3c  0a
2	0000000000000001   0011110110101110        1	3d  ae
3	0000000000000010   0011111000000001        2	3e  01
4	0000000000000011   0011100100000000        3	39  00
5	0000000000000100   0001010000001010        4	14  0a
6	0000000000000101   0110001000000010        5	62  02
7	0000000000000110   1011010100000000        6	b5  00
8	0000000000000111   0101101010001001        7	5a  89
9	0000000000001000   0001101100111000        8	1b  38
10	0000000000001001   0101101001101110        9	5a  6e
11	0000000000001010   0011001100001000        10	33  08
12	0000000000001011   0001101100000001        11	1b  01
13	0000000000001100   0101101001101110        12	5a  6e
14	0000000000001101   0000010100000000        13	05  00
15	0000000000001110   0000010011010011        14	04  d3
16	0000000000001111   0011001100001000        15	33  08
17	0000000000010000   0001101100000010        16	1b  02
18	0000000000010001   0101101001101110        17	5a  6e
19	0000000000010010   0001101100001100        18	1b  0c
20	0000000000010011   0101101001101110        19	5a  6e
21	0000000000010100   0011001000001000        20	32  08
22	0000000000010101   0011110000000000        21	3c  00
23	0000000000010110   0011110100000000        22	3d  00
24	0000000000010111   0011100100000000        23	39  00
25	0000000000011000   1100111000000000        24	ce  00
26	0000000000011001   0011110000000001        25	3c  01
27	0000000000011010   0011110101011110        26	3d  5e
28	0000000000011011   0011111000000000        27	3e  00
29	0000000000011100   0011100100000000        28	39  00
30	0000000000011101   0011001000000001        29	32  01
31	0000000000011110   0101101001111010        30	5a  7a
32	0000000000011111   0011001100000001        31	33  01
33	0000000000100000   0110010000000010        32	64  02
34	0000000000100001   0000000000100000        33	00  20
35	0000000000100010   1100101100000000        34	cb  00
36	0000000000100011   0110001100000010        35	63  02
37	0000000000100100   0000000000100011        36	00  23
38	0000000000100101   0011101000000000        37	3a  00
39	0000000000100110   1100100100000000        38	c9  00
40	0000000000100111   0000010011001010        39	04  ca
41	0000000000101000   1100101000000000        40	ca  00
42	0000000000101001   0000010011001001        41	04  c9
43	0000000000101010   0000010111001011        42	05  cb
44	0000000000101011   0000010011001000        43	04  c8
45	0000000000101100   0001101100000001        44	1b  01
46	0000000000101101   0000010100000000        45	05  00
47	0000000000101110   0000010011001011        46	04  cb
48	0000000000101111   0000010011001100        47	04  cc
49	0000000000110000   0000000111001010        48	01  ca
50	0000000000110001   0000001111001000        49	03  c8
51	0000000000110010   0000010011001010        50	04  ca
52	0000000000110011   0000000111001001        51	01  c9
53	0000000000110100   1101101000000000        52	da  00
54	0000000000110101   0000010011001001        53	04  c9
55	0000000000110110   0000011101000101        54	07  45
56	0000000000110111   0000000111001100        55	01  cc
57	0000000000111000   0000010011001010        56	04  ca
58	0000000000111001   0000000111001011        57	01  cb
59	0000000000111010   0000010011001001        58	04  c9
60	0000000000111011   0000010100000001        59	05  01
61	0000000000111100   0000010011001000        60	04  c8
62	0000000000111101   0101100100101101        61	59  2d
63	0000000000111110   0000000111001100        62	01  cc
64	0000000000111111   0011110000001010        63	3c  0a
65	0000000001000000   0011110110101110        64	3d  ae
66	0000000001000001   0011111000000001        65	3e  01
67	0000000001000010   0011100100000000        66	39  00
68	0000000001000011   0101101001111010        67	5a  7a
69	0000000001000100   0000011001001100        68	06  4c
70	0000000001000101   0000000111001100        69	01  cc
71	0000000001000110   1010001100000001        70	a3  01
72	0000000001000111   0000010011001100        71	04  cc
73	0000000001001000   0000000111001011        72	01  cb
74	0000000001001001   1100011100000000        73	c7  00
75	0000000001001010   0000010011001011        74	04  cb
76	0000000001001011   0000011000110000        75	06  30
77	0000000001001100   1010000100000000        76	a1  00
78	0000000001001101   0101111000000000        77	5e  00
79	0000000001001110   0101110000000000        78	5c  00
80	0000000001001111   0000101111111111        79	0b  ff
81	0000000001010000   0001010000001010        80	14  0a
82	0000000001010001   0011001000001000        81	32  08
83	0000000001010010   1000110000000000        82	8c  00
84	0000000001010011   0001111100000000        83	1f  00
85	0000000001010100   0101101001101110        84	5a  6e
86	0000000001010101   0100101000000001        85	4a  01
87	0000000001010110   0101011001010001        86	56  51
88	0000000001010111   0000000111010011        87	01  d3
89	0000000001011000   1010010000000000        88	a4  00
90	0000000001011001   0000100001011011        89	08  5b
91	0000000001011010   0101101100000000        90	5b  00
92	0000000001011011   0000010100000001        91	05  01
93	0000000001011100   0000010011010011        92	04  d3
94	0000000001011101   0011001100001000        93	33  08
95	0000000001011110   0001101111000000        94	1b  c0
96	0000000001011111   0101101001101110        95	5a  6e
97	0000000001100000   0000101111110100        96	0b  f4
98	0000000001100001   0001010000001010        97	14  0a
99	0000000001100010   0101101001010001        98	5a  51
100	0000000001100011   0101110100000000        99	5d  00
101	0000000001100100   0101111100000000        100	5f  00
102	0000000001100101   1010001000000000        101	a2  00
103	0000000001100110   0111011000000000        102	76  00
104	0000000001100111   0111110000000000        103	7c  00
105	0000000001101000   0001111100000000        104	1f  00
106	0000000001101001   0001111000000000        105	1e  00
107	0000000001101010   1001100000000000        106	98  00
108	0000000001101011   0000100001111110        107	08  7e
109	0000000001101100   0100101000000001        108	4a  01
110	0000000001101101   1001011001101001        109	96  69
111	0000000001101110   0001111000000000        110	1e  00
112	0000000001101111   1011011100000000        111	b7  00
113	0000000001110000   0011001000010000        112	32  10
114	0000000001110001   0011001100001000        113	33  08
115	0000000001110010   0011001000100000        114	32  20
116	0000000001110011   1011010110000000        115	b5  80
117	0000000001110100   0110010110000000        116	65  80
118	0000000001110101   0000000001110100        117	00  74
119	0000000001110110   1011010100000000        118	b5  00
120	0000000001110111   0011001100010000        119	33  10
121	0000000001111000   0011001100100000        120	33  20
122	0000000001111001   0101101100000000        121	5b  00
123	0000000001111010   0011101100000000        122	3b  00
124	0000000001111011   0011100001111011        123	38  7b
125	0000000001111100   0011101000000000        124	3a  00
126	0000000001111101   0101101100000000        125	5b  00
127	0000000001111110   0000000111010010        126	01  d2
128	0000000001111111   1010001100000001        127	a3  01
129	0000000010000000   0000010011010010        128	04  d2
130	0000000010000001   0001000000000000        129	10  00
131	0000000010000010   1010000100000000        130	a1  00
132	0000000010000011   0111011100000000        131	77  00
133	0000000010000100   1010010000000000        132	a4  00
134	0000000010000101   0101101010001001        133	5a  89
135	0000000010000110   0000100010001100        134	08  8c
136	0000000010000111   0111011100000000        135	77  00
137	0000000010001000   0000011001100110        136	06  66
138	0000000010001001   0000101100111001        137	0b  39
139	0000000010001010   0111001100001001        138	73  09
140	0000000010001011   0101101100000000        139	5b  00
141	0000000010001100   0011001000001000        140	32  08
142	0000000010001101   1010001000000000        141	a2  00
143	0000000010001110   0101101001101111        142	5a  6f
144	0000000010001111   0000000111010010        143	01  d2
145	0000000010010000   1010010000000001        144	a4  01
146	0000000010010001   0000010011010010        145	04  d2
147	0000000010010010   0000100010010100        146	08  94
148	0000000010010011   0000011010001100        147	06  8c
149	0000000010010100   0001101100000001        148	1b  01
150	0000000010010101   0011001000001000        149	32  08
151	0000000010010110   0000010100100000        150	05  20
152	0000000010010111   0101101001101111        151	5a  6f
153	0000000010011000   0101100110010101        152	59  95
154	0000000010011001   0101110000000000        153	5c  00
155	0000000010011010   0000101100011001        154	0b  19
156	0000000010011011   0101101001111010        155	5a  7a
157	0000000010011100   0101001110011011        156	53  9b
158	0000000010011101   0101110100000000        157	5d  00
159	0000000010011110   0000011000001101        158	06  0d
160	0000000011010010   0000000000000000        210	00  00
161	0000000011111111   0000000000100000        255	00  20
162	0000000011111110   0000000000100000        254	00  20
163	0000000011111101   0000000000100000        253	00  20
164	0000000011111100   0000000000100000        252	00  20
165	0000000011111011   0000000001001000        251	00  48
166	0000000011111010   0000000001000011        250	00  43
167	0000000011111001   0000000000101101        249	00  2d
168	0000000011111000   0000000001010011        248	00  53
169	0000000011110111   0000000001010010        247	00  52
170	0000000011110110   0000000000110000        246	00  30
171	0000000011110101   0000000000110100        245	00  34
172	0000000011110100   0000000001000100        244	00  44
173	0000000011110011   0000000001101001        243	00  69
174	0000000011110010   0000000001110011        242	00  73
175	0000000011110001   0000000001110100        241	00  74
176	0000000011110000   0000000000100000        240	00  20
177	0000000011101111   0000000000101000        239	00  28
178	0000000011101110   0000000001101101        238	00  6d
179	0000000011101101   0000000001101101        237	00  6d
180	0000000011101100   0000000000101001        236	00  29
181	0000000011101011   0000000000111010        235	00  3a
182	0000000011101010   0000000000100000        234	00  20
--------------------------------------------------------------------------------

HEX Code

: 10 00 00 3c 0a 3d ae 3e 01 39 00 14 0a 62 02 b5 00 5a 89
: 10 08 00 1b 38 5a 6e 33 08 1b 01 5a 6e 05 00 04 d3 33 08
: 10 10 00 1b 02 5a 6e 1b 0c 5a 6e 32 08 3c 00 3d 00 39 00
: 10 18 00 ce 00 3c 01 3d 5e 3e 00 39 00 32 01 5a 7a 33 01
: 10 20 00 64 02 00 20 cb 00 63 02 00 23 3a 00 c9 00 04 ca
: 10 28 00 ca 00 04 c9 05 cb 04 c8 1b 01 05 00 04 cb 04 cc
: 10 30 00 01 ca 03 c8 04 ca 01 c9 da 00 04 c9 07 45 01 cc
: 10 38 00 04 ca 01 cb 04 c9 05 01 04 c8 59 2d 01 cc 3c 0a
: 10 40 00 3d ae 3e 01 39 00 5a 7a 06 4c 01 cc a3 01 04 cc
: 10 48 00 01 cb c7 00 04 cb 06 30 a1 00 5e 00 5c 00 0b ff
: 10 50 00 14 0a 32 08 8c 00 1f 00 5a 6e 4a 01 56 51 01 d3
: 10 58 00 a4 00 08 5b 5b 00 05 01 04 d3 33 08 1b c0 5a 6e
: 10 60 00 0b f4 14 0a 5a 51 5d 00 5f 00 a2 00 76 00 7c 00
: 10 68 00 1f 00 1e 00 98 00 08 7e 4a 01 96 69 1e 00 b7 00
: 10 70 00 32 10 33 08 32 20 b5 80 65 80 00 74 b5 00 33 10
: 10 78 00 33 20 5b 00 3b 00 38 7b 3a 00 5b 00 01 d2 a3 01
: 10 80 00 04 d2 10 00 a1 00 77 00 a4 00 5a 89 08 8c 77 00
: 10 88 00 06 66 0b 39 73 09 5b 00 32 08 a2 00 5a 6f 01 d2
: 10 90 00 a4 01 04 d2 08 94 06 8c 1b 01 32 08 05 20 5a 6f
: 0e 98 00 59 95 5c 00 0b 19 5a 7a 53 9b 5d 00 06 0d
: 02 d2 00 00 00
: 10 ea 00 00 20 00 3a 00 29 00 6d 00 6d 00 28 00 20 00 74
: 10 f2 00 00 73 00 69 00 44 00 34 00 30 00 52 00 53 00 2d
: 0c fa 00 00 43 00 48 00 20 00 20 00 20 00 20
: 00 00 01
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------