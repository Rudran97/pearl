********************************************************************************
*** This is an auto generated report file showing the opcodes and memory map ***
*** File name : Serial_ADC                                                   ***
*** Date of creation : 07-02-2021 19:29:45                                   ***


Memory available : 256 bytes,  Memory used : 117 bytes, 45.70%
--------------------------------------------------------------------------------

Raw address inputs

0000000011001000  0000000000000000        200  0
0000000011010010  0000000000111100        210  60
--------------------------------------------------------------------------------


Constants

digit_9 = $57
decimal_numbers = $9
digit_len_counter_address = $200
delay_th0 = x0a
delay_tl0 = xae
prescale_64 = $1
ADC_TH0 = x01
ADC_TL0 = x5e
ADC_CS0 = $0
ADC_read_delay = $20
ADC_nCS = P0.0
ADC_CLK = P0.1
ADC_DO = P0.2
LED = P0.6
THRESHOLD = $210
LCD_RS = P0.3
LCD_E = P0.4
LCD_RW = P0.5
LCD_BF = P1.7
BF_BIT = b10000000
--------------------------------------------------------------------------------

Address     Opcode

    __init__:
0   		MOV TH0 delay_th0
1   		MOV TL0 delay_tl0
2   		MOV CS0 prescale_64
3   		SET T0E
4   		MOV R1 $10
5   		DDRP1 $0
6   		DDRP0 $4
7   		CALL set_registers
    set_display:
8   		MOV R2 x30
9   		CALL set_instruction
10   		CLR LCD_RS
11   		MOV R2 $1
12   		CALL set_instruction
    return_home:
13   		CLR LCD_RS
14   		MOV R2 $2
15   		CALL set_instruction
16   		MOV R2 $12
17   		CALL set_instruction
18   		SET LCD_RS
19   		SET ADC_nCS
    read_ADC:
    start_conversion:
20   		MOV TH0 ADC_TH0
21   		MOV TL0 ADC_TL0
22   		MOV CS0 ADC_CS0
23   		SET T0E
24   		PUSH R0
25   		PUSH R1
26   		MOV R0A $8
27   		MOV R1 $0
28   		CLR ADC_nCS
29   		CALL delay
30   		CALL pulse_clk
    read_analog:
31   		CALL pulse_clk
32   		MOV A, R1
33   		MOV C, ADC_DO
34   		RLC
35   		MOV R1, A
36   		DJNZ R0A, read_analog
    end_conversion:
37   		SET ADC_nCS
38   		CALL delay
39   		MOV A, R1
40   		POP R1
41   		POP R0
42   		MOV TH0 delay_th0
43   		MOV TL0 delay_tl0
44   		MOV CS0 prescale_64
45   		SET T0E
    led_controller:
46   		CMP THRESHOLD
47   		PUSH A
48   		JMC led_on
49   		CLR LED
50   		JMP continue
    led_on:
51   		SET LED
    continue:
52   		POP A
    find_remainder:
53   		MOV DM $0
54   		DIV R1
55   		MOV R2, A
    decode_digit:
56   		MOV A, R2
57   		SUB R3
58   		JMZ store_number
59   		DEC R0 $1
60   		DJNZ R3, decode_digit
    stop:
61   		HLT
    set_instruction:
62   		MOV A, R2
    execute_instruction:
63   		MOV P1, A
64   		SET LCD_E
    check_BF:
65   		CLR LCD_RS
66   		SET LCD_RW
67   		DDRP1 BF_BIT
    lcd_busy:
68   		JB LCD_BF lcd_busy
70   		DDRP1 $0
71   		CLR LCD_E
72   		CLR LCD_RW
73   		RET
    delay:
74   		SET TR0
    loop:
75   		JNBTF0 loop
76   		CLR T0
77   		RET
    store_number:
78   		LDA digit_len_counter_address
79   		ADDI $1
80   		STA digit_len_counter_address
81   		MOV A, R0
82   		PUSH A
83   		MOV A, DM
84   		SUBI $0
85   		CALL set_registers
86   		JMZ display_number
87   		MOV A, DM
88   		JMP find_remainder
    set_registers:
89   		MOV R0 digit_9
90   		MOV R3 decimal_numbers
91   		RET
    display_number:
92   		SET LCD_RS
93   		POP A
94   		CALL execute_instruction
95   		LDA digit_len_counter_address
96   		SUBI $1
97   		STA digit_len_counter_address
98   		JMZ read_delay
99   		JMP display_number
    read_delay:
100   		MOV R2 $1
    add_mask:
101   		SET LCD_RS
102   		ldi " "
103   		CALL execute_instruction
104   		DJNZ R2, add_mask
105   		PUSH R0
106   		MOV R0 ADC_read_delay
    read_delay_loop:
107   		CALL delay
108   		DJNZ R0, read_delay_loop
109   		POP R0
110   		JMP return_home
    pulse_clk:
111   		SET ADC_CLK
112   		CALL delay
113   		CLR ADC_CLK
114   		RET
--------------------------------------------------------------------------------

Memory Map

1	0000000000000000   0011110000001010        0	3c  0a
2	0000000000000001   0011110110101110        1	3d  ae
3	0000000000000010   0011111000000001        2	3e  01
4	0000000000000011   0011100100000000        3	39  00
5	0000000000000100   0001010000001010        4	14  0a
6	0000000000000101   1011010100000000        5	b5  00
7	0000000000000110   0110001000000100        6	62  04
8	0000000000000111   0101101001011001        7	5a  59
9	0000000000001000   0001101100110000        8	1b  30
10	0000000000001001   0101101000111110        9	5a  3e
11	0000000000001010   0011001100001000        10	33  08
12	0000000000001011   0001101100000001        11	1b  01
13	0000000000001100   0101101000111110        12	5a  3e
14	0000000000001101   0011001100001000        13	33  08
15	0000000000001110   0001101100000010        14	1b  02
16	0000000000001111   0101101000111110        15	5a  3e
17	0000000000010000   0001101100001100        16	1b  0c
18	0000000000010001   0101101000111110        17	5a  3e
19	0000000000010010   0011001000001000        18	32  08
20	0000000000010011   0011001000000001        19	32  01
21	0000000000010100   0011110000000001        20	3c  01
22	0000000000010101   0011110101011110        21	3d  5e
23	0000000000010110   0011111000000000        22	3e  00
24	0000000000010111   0011100100000000        23	39  00
25	0000000000011000   0101110000000000        24	5c  00
26	0000000000011001   0101111000000000        25	5e  00
27	0000000000011010   0000100100001000        26	09  08
28	0000000000011011   0001010000000000        27	14  00
29	0000000000011100   0011001100000001        28	33  01
30	0000000000011101   0101101001001010        29	5a  4a
31	0000000000011110   0101101001101111        30	5a  6f
32	0000000000011111   0101101001101111        31	5a  6f
33	0000000000100000   0001011100000000        32	17  00
34	0000000000100001   1001101000000100        33	9a  04
35	0000000000100010   1010000000000000        34	a0  00
36	0000000000100011   0001100000000000        35	18  00
37	0000000000100100   0101000100011111        36	51  1f
38	0000000000100101   0011001000000001        37	32  01
39	0000000000100110   0101101001001010        38	5a  4a
40	0000000000100111   0001011100000000        39	17  00
41	0000000000101000   0101111100000000        40	5f  00
42	0000000000101001   0101110100000000        41	5d  00
43	0000000000101010   0011110000001010        42	3c  0a
44	0000000000101011   0011110110101110        43	3d  ae
45	0000000000101100   0011111000000001        44	3e  01
46	0000000000101101   0011100100000000        45	39  00
47	0000000000101110   1011111111010010        46	bf  d2
48	0000000000101111   1010000100000000        47	a1  00
49	0000000000110000   0000011100110011        48	07  33
50	0000000000110001   0011001101000000        49	33  40
51	0000000000110010   0000011000110100        50	06  34
52	0000000000110011   0011001001000000        51	32  40
53	0000000000110100   1010001000000000        52	a2  00
54	0000000000110101   0111011000000000        53	76  00
55	0000000000110110   0111110000000000        54	7c  00
56	0000000000110111   0001111100000000        55	1f  00
57	0000000000111000   0001111000000000        56	1e  00
58	0000000000111001   1001100000000000        57	98  00
59	0000000000111010   0000100001001110        58	08  4e
60	0000000000111011   0100101000000001        59	4a  01
61	0000000000111100   1001011000111000        60	96  38
62	0000000000111101   0000111100000000        61	0f  00
63	0000000000111110   0001111000000000        62	1e  00
64	0000000000111111   1011011100000000        63	b7  00
65	0000000001000000   0011001000010000        64	32  10
66	0000000001000001   0011001100001000        65	33  08
67	0000000001000010   0011001000100000        66	32  20
68	0000000001000011   1011010110000000        67	b5  80
69	0000000001000100   0110010110000000        68	65  80
70	0000000001000101   0000000001000100        69	00  44
71	0000000001000110   1011010100000000        70	b5  00
72	0000000001000111   0011001100010000        71	33  10
73	0000000001001000   0011001100100000        72	33  20
74	0000000001001001   0101101100000000        73	5b  00
75	0000000001001010   0011101100000000        74	3b  00
76	0000000001001011   0011100001001011        75	38  4b
77	0000000001001100   0011101000000000        76	3a  00
78	0000000001001101   0101101100000000        77	5b  00
79	0000000001001110   0000000111001000        78	01  c8
80	0000000001001111   1010001100000001        79	a3  01
81	0000000001010000   0000010011001000        80	04  c8
82	0000000001010001   0001000000000000        81	10  00
83	0000000001010010   1010000100000000        82	a1  00
84	0000000001010011   0111011100000000        83	77  00
85	0000000001010100   1010010000000000        84	a4  00
86	0000000001010101   0101101001011001        85	5a  59
87	0000000001010110   0000100001011100        86	08  5c
88	0000000001010111   0111011100000000        87	77  00
89	0000000001011000   0000011000110101        88	06  35
90	0000000001011001   0000101100111001        89	0b  39
91	0000000001011010   0111001100001001        90	73  09
92	0000000001011011   0101101100000000        91	5b  00
93	0000000001011100   0011001000001000        92	32  08
94	0000000001011101   1010001000000000        93	a2  00
95	0000000001011110   0101101000111111        94	5a  3f
96	0000000001011111   0000000111001000        95	01  c8
97	0000000001100000   1010010000000001        96	a4  01
98	0000000001100001   0000010011001000        97	04  c8
99	0000000001100010   0000100001100100        98	08  64
100	0000000001100011   0000011001011100        99	06  5c
101	0000000001100100   0001101100000001        100	1b  01
102	0000000001100101   0011001000001000        101	32  08
103	0000000001100110   0000010100100000        102	05  20
104	0000000001100111   0101101000111111        103	5a  3f
105	0000000001101000   0101100101100101        104	59  65
106	0000000001101001   0101110000000000        105	5c  00
107	0000000001101010   0000101100010100        106	0b  14
108	0000000001101011   0101101001001010        107	5a  4a
109	0000000001101100   0101001101101011        108	53  6b
110	0000000001101101   0101110100000000        109	5d  00
111	0000000001101110   0000011000001101        110	06  0d
112	0000000001101111   0011001000000010        111	32  02
113	0000000001110000   0101101001001010        112	5a  4a
114	0000000001110001   0011001100000010        113	33  02
115	0000000001110010   0101101100000000        114	5b  00
116	0000000011001000   0000000000000000        200	00  00
117	0000000011010010   0000000000111100        210	00  3c
--------------------------------------------------------------------------------

HEX Code

: 10 00 00 3c 0a 3d ae 3e 01 39 00 14 0a b5 00 62 04 5a 59
: 10 08 00 1b 30 5a 3e 33 08 1b 01 5a 3e 33 08 1b 02 5a 3e
: 10 10 00 1b 0c 5a 3e 32 08 32 01 3c 01 3d 5e 3e 00 39 00
: 10 18 00 5c 00 5e 00 09 08 14 00 33 01 5a 4a 5a 6f 5a 6f
: 10 20 00 17 00 9a 04 a0 00 18 00 51 1f 32 01 5a 4a 17 00
: 10 28 00 5f 00 5d 00 3c 0a 3d ae 3e 01 39 00 bf d2 a1 00
: 10 30 00 07 33 33 40 06 34 32 40 a2 00 76 00 7c 00 1f 00
: 10 38 00 1e 00 98 00 08 4e 4a 01 96 38 0f 00 1e 00 b7 00
: 10 40 00 32 10 33 08 32 20 b5 80 65 80 00 44 b5 00 33 10
: 10 48 00 33 20 5b 00 3b 00 38 4b 3a 00 5b 00 01 c8 a3 01
: 10 50 00 04 c8 10 00 a1 00 77 00 a4 00 5a 59 08 5c 77 00
: 10 58 00 06 35 0b 39 73 09 5b 00 32 08 a2 00 5a 3f 01 c8
: 10 60 00 a4 01 04 c8 08 64 06 5c 1b 01 32 08 05 20 5a 3f
: 10 68 00 59 65 5c 00 0b 14 5a 4a 53 6b 5d 00 06 0d 32 02
: 06 70 00 5a 4a 33 02 5b 00
: 02 c8 00 00 00
: 02 d2 00 00 3c
: 00 00 01
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------